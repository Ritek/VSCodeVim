{
	// Place your snippets for typescriptreact here. Each snippet is defined under a snippet name and has a prefix, body and 
	// description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:
	// $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. Placeholders with the 
	// same ids are connected.
	// Example:
	// "Print to console": {
	// 	"prefix": "log",
	// 	"body": [
	// 		"console.log('$1');",
	// 		"$2"
	// 	],
	// 	"description": "Log output to console"
	// }

	// Type safe elements

	"Custom TSX Component snippet": {
		"prefix": "comp",
		"body": [
			"import React from \"react\"\n",
			"type Props = {\n",
			"}\n",
			"function ${TM_FILENAME_BASE}(props: Props) {\n",
			"\treturn (",
			"\t\t<>",
			"\t\t\t$0",
			"\t\t</>",
			"\t)",
			"}\n",
			"export default ${TM_FILENAME_BASE}",
		],
		"description": "New TSX file with Props"
	},

	"Type safe TSX Form interface": {
		"prefix": "form",
		"body": [
			"interface FormElements extends HTMLFormControlsCollection {",
			"\tname: HTMLInputElement;",
			"}",
			"interface MyForm extends HTMLFormElement {",
			"\treadonly elements: FormElements;",
			"}\n",
			"function handleSubmit(event: React.FormEvent<MyForm>) {",
			"\tevent.preventDefault();",
			"\tconsole.log(event.currentTarget.elements.name.value);",
			"}",
		],
		"description": "New TSX Form interface"
	},

	"Type safe TSX Select component": {
		"prefix": "select-safe",
		"body": [
			"type Props<T extends string> = {",
			"\tvalue: T",
			"\treadonly options: readonly Option<T>[]",
			"\tonChange: (newValue: T) => void",
			"}\n",
			"type Option<T extends string> = {",
			"\tvalue: T",
			"\tlabel: string",
			"}\n",
			"function Select<T extends string>(props: Props<T>) {",
			"\tfunction handleChange(event: React.ChangeEvent<HTMLSelectElement>) {",
			"\t\tconst option = props.options.find(",
			"\t\t\t(option) => option.value === event.target.value",
			"\t\t) as Option<T>",
			"\t\tprops.onChange(option.value)",
			"\t}\n",
			"\treturn (",
			"\t\t<select value={props.value} onChange={handleChange}>",
			"\t\t\t{props.options.map((option) => (",
			"\t\t\t\t<option key={option.value} value={option.value}>",
			"\t\t\t\t\t{option.label}",
			"\t\t\t\t</option>",
			"\t\t\t))}",
			"\t\t</select>",
			"\t)",
			"}",
		],
		"description": "New type safe select"
	},


	"Custom TSX HOC snippet": {
		"prefix": "hoc",
		"body": [
			"import React from \"react\"\n",
			"type InjectProps = {\n\t$0\n}\n",
			"function ${TM_FILENAME_BASE}<T extends object>(Component: React.ComponentType<T & InjectProps>) {",
			"\tconst WrappedComponent: React.FC<Omit<T, keyof InjectProps>> = (props) => {",
			"\t\treturn <Component {...(props) as T} />",
			"}\n",
			"WrappedComponent.displayName = \"${TM_FILENAME_BASE}(<Component />)\"",
			"return WrappedComponent",
			"}"
		],
		"description": "New TSX HOC starter"
	},

	"Custom TSX Context snippet": {
		"prefix": "context",
		"body": [
			"import React from \"react\"\n",
			"interface ${TM_FILENAME_BASE}Api {",
			"\tvalue: string",
			"\tsetValue: React.Dispatch<React.SetStateAction<string>>",
			"}\n",
			"const ${TM_FILENAME_BASE} = React.createContext<${TM_FILENAME_BASE}Api | null>(null)\n",
			"export function use${TM_FILENAME_BASE}() {",
			"\tconst context = React.use(${TM_FILENAME_BASE})",
			"\tif (!context) {",
			"\t\tthrow new Error(\"Cannot use use${TM_FILENAME_BASE} outside ${TM_FILENAME_BASE}!\")",
			"\t}",
			"\treturn context",
			"}\n",
			"export function ${TM_FILENAME_BASE}Provider({",
			"\tchildren,",
			"}: {",
			"\tchildren: React.ReactNode",
			"}) {",
			"\tconst [value, setValue] = React.useState<${TM_FILENAME_BASE}Api[\"value\"]>(\"\")",
			"\treturn <${TM_FILENAME_BASE} value={contextValue}>{children}</${TM_FILENAME_BASE}>",
			"\tconst contextValue = React.useMemo(() => ({ value, setValue }), [value])",
			"}",
		],
		"description": "New TSX Context starter"
	},

	// Tests

	"Custom TSX Vitest snippet": {
		"prefix": "vitest",
		"body": [
			"import { describe, expect, it, vi } from \"vitest\"",
			"import { render, screen } from \"@testing-library/react\"\n",
			"describe(\"<${TM_FILENAME_BASE} />\", () => {",
			"\tit(\"$0\", () => {\n",
			"\t})",
			"})",
		],
		"description": "New TSX Vitest starter"
	},


	// Hooks

	"Custom TSX useActionState snippet": {
		"prefix": "useActionState",
		"body": [
			"type FormState = {",
			"\t$0: string",
			"}\n",
			"async function action(_: FormState, formData: FormData): Promise<FormState> {",
			"\tconst name = formData.get(\"name\") as string",
			"\treturn { $0 }",
			"}\n",
			"const [state, formAction, isPending] = React.useActionState(action, {", 
			"\tname: \"\"",
			"})\n",
			"function handleChange(event: React.ChangeEvent<HTMLInputElement>) {",
			"\tconst $0 = event.target.$0",
			"}"
		],
		"description": "useActionRequest snippet"
	}
}